<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flingo Card Generator</title>
    <style>
        /* Basic page styling */
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f4f4f4;
            transition: background-color 0.5s ease;
        }

        /* Style the Bingo card title */
        h1 {
            margin-top: 20px;
        }

        /* Style the input field and button */
        input, button {
            padding: 10px;
            font-size: 16px;
            margin: 10px;
        }

        /* Style the Bingo table */
        table {
            margin: 20px auto;
            border-collapse: collapse;
            table-layout: fixed;
            width: 500px;
            height: 550px;
        }

        th {
            border: 2px solid black;
            width: 20%;
            height: 50px;
            text-align: center;
            vertical-align: middle;
            background-color: lightblue;
            font-size: 20px;
            font-weight: bold;
        }

        td {
            border: 2px solid black;
            width: 20%;
            height: calc(100% / 6);
            text-align: center;
            vertical-align: middle;
            font-size: 14px;
            overflow: hidden;
            cursor: pointer;
            transition: background-color 0.1s ease-in-out;
        }

        /* Style for toggled cells (default green) */
        td.toggled {
            background-color: green;
            color: white;
        }

        /* Style for the FLAT SMACKED cell */
        td.FLAT_SMACKED {
            background-color: lightgray;
        }
    </style>
</head>
<body>
    <h1>Flingo Card Generator</h1>
    <h2>Enter a 10-digit code or click generate flingo</h2>

    <!-- Input form for the seed and a generate button -->
    <input type="text" id="seed" placeholder="Enter 10-digit code">
    <button onclick="generateBingo()">Generate Flingo</button>

    <!-- Theme color pickers -->
    <h3>Create Custom Theme</h3>
    <div>
        <label>Background Color: <input type="color" id="bgColor" value="#f4f4f4"></label><br>
        <label>Text Color: <input type="color" id="textColor" value="#000000"></label><br>
        <label>Border Color: <input type="color" id="borderColor" value="#000000"></label><br>
        <label>Toggled Cell Color: <input type="color" id="toggledColor" value="#ff0000"></label><br>
        <button onclick="applyCustomTheme()">Apply Custom Theme</button>
    </div>

    <!-- Placeholder for the generated Bingo card -->
    <div id="bingoCard"></div>

    <!-- Include the SeedRandom library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/seedrandom/3.0.5/seedrandom.min.js"></script>

    <script>
        // Word bank to fill the bingo card
        const wordBank = [
            "Perspective", "Experiment", "Independent Variable", "Vacuum", "Theory",
            "Scientific Method", "Refraction", "Horizon", "Neil Degrasse Tyson", "Dome",
            "Creator", "Entropy", "Thermodynamics", "Globey", "Electrostatics", "CGI",
            "Cartoons", "Container", "Icewall", "Donut", "Disingenuous", "Globe Religion",
            "Firmament", "Buoyancy", "Density", "Parallax", "Crepuscular Rays", "Level",
            "Coriolis Effect", "Local Sun", "Antarctic Treaty", "60th Parallel", "3 Constituent Parts",
            "Elites", "NASA", "Liar", "Line Of Sight", "Weirdo", "Admiral Byrd",
            "8\" Per Mile Squared", "Scientific Method", "You Don't Even Know Your Own Model",
            "Radar", "Curvature", "Observation", "P1000", "Polaris", "Luminaries", "Wandering Star",
            "Ether", "Thanks For Playing", "Welcome To Flat Earth", "Indoctrination", "Helium", "Fisheye lens"
        ];

        // Function to generate the Bingo card based on the input seed
        function generateBingo() {
            let seed = document.getElementById('seed').value;

            // If no seed is provided, generate a random 10-digit alphanumeric seed
            if (seed.length === 0) {
                seed = generateRandomSeed();
                document.getElementById('seed').value = seed;
            }

            // Shuffle the word bank based on the seed using SeedRandom
            const shuffledWords = shuffleWords([...wordBank], seed);

            // Build the Bingo card (5x5 grid)
            let card = "<table>";
            card += "<tr><th>E</th><th>A</th><th>R</th><th>T</th><th>H</th></tr>"; // Header row with "EARTH"
            
            let wordIndex = 0;
            for (let i = 0; i < 5; i++) {
                card += "<tr>";
                for (let j = 0; j < 5; j++) {
                    if (i === 2 && j === 2) {
                        card += "<td class='FLAT_SMACKED' onclick='toggleCell(this)'>FLAT SMACKED</td>";
                    } else {
                        card += `<td onclick='toggleCell(this)'>${shuffledWords[wordIndex]}</td>`;
                        wordIndex++;
                    }
                }
                card += "</tr>";
            }
            card += "</table>";

            // Display the Bingo card in the placeholder div
            document.getElementById('bingoCard').innerHTML = card;
        }

        // Function to generate a random 10-character alphanumeric seed
        function generateRandomSeed() {
            const chars = 'abcdefghijklmnopqrstuvwxyz0123456789';
            let randomSeed = '';
            for (let i = 0; i < 10; i++) {
                randomSeed += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            return randomSeed;
        }

        // Function to shuffle words based on the seed
        function shuffleWords(words, seed) {
            Math.seedrandom(seed); // Set the seed for SeedRandom
            for (let i = words.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [words[i], words[j]] = [words[j], words[i]];
            }
            return words.slice(0, 24); // Take only the first 24 words
        }

        // Function to toggle the cell's background color
        function toggleCell(cell) {
            requestAnimationFrame(() => {
                cell.classList.toggle('toggled');
            });
        }

        // Function to apply custom theme based on user input
        function applyCustomTheme() {
            const bgColor = document.getElementById('bgColor').value;
            const textColor = document.getElementById('textColor').value;
            const borderColor = document.getElementById('borderColor').value;
            const toggledColor = document.getElementById('toggledColor').value;

            // Apply the background color to the body
            document.body.style.backgroundColor = bgColor;

            // Apply text and border colors to the table
            const table = document.querySelector('table');
            if (table) {
                table.style.color = textColor;
                const cells = table.querySelectorAll('td, th');
                cells.forEach(cell => {
                    cell.style.borderColor = borderColor;
                    cell.style.color = textColor;
                });

                // Set the toggled cells' color
                const toggledCells = table.querySelectorAll('td.toggled');
                toggledCells.forEach(cell => {
                    cell.style.backgroundColor = toggledColor;
                });

                // Update toggleCell function to use the new toggledColor
                document.querySelectorAll('td').forEach(td => {
                    td.addEventListener('click', function() {
                        if (td.classList.contains('toggled')) {
                            td.style.backgroundColor = '';
                            td.classList.remove('toggled');
                        } else {
                            td.style.backgroundColor = toggledColor;
                            td.classList.add('toggled');
                        }
                    });
                });
            }
        }
    </script>
</body>
</html>